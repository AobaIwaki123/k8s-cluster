# Ceph RBD ストレージのテスト用 Pod
# PVC が正常にマウントされることを確認するためのテストリソース
# 参考: https://github.com/rook/rook/blob/release-1.13/deploy/examples/csi/rbd/pod.yaml
apiVersion: v1
kind: Pod
metadata:
  name: csirbd-demo-pod
spec:
  containers:
    - name: web-server
      image: nginx  # テスト用の軽量なコンテナイメージ
      
      # ボリュームマウントの設定
      volumeMounts:
        - name: mypvc
          mountPath: /var/lib/www/html  # Nginx の HTML ディレクトリにマウント
  
  # ボリューム定義
  volumes:
    - name: mypvc
      persistentVolumeClaim:
        claimName: rbd-pvc  # 使用する PVC 名（test-pvc.yaml で定義）
        readOnly: false     # 読み書き可能でマウント
