# ArgoCD 設定のカスタマイズ用 ConfigMap
# 外部からのAPI呼び出しによるアプリケーション同期を可能にするための設定を含む
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app.kubernetes.io/name: argocd-cm
    app.kubernetes.io/part-of: argocd
  name: argocd-cm
  namespace: argocd
data:
  # アカウント設定: admin ユーザーでのログインと API トークンの使用を許可
  accounts.admin: login,apiKey
  
  # アプリケーション識別用のラベルキー設定
  application.instanceLabelKey: argocd.argoproj.io/instance
  
  # RBAC ログ設定: デバッグ目的で無効化
  server.rbac.log.enforce.enable: "false"
  
  # 同期タイムアウト設定
  timeout.hard.reconciliation: 0s      # ハード同期タイムアウト (0s = 無制限)
  timeout.reconciliation: 180s         # 通常の同期タイムアウト (3分)
